{
    // In case you have a smart editor, you can use this schema to facilitate editing as you get auto-completion and descriptions.
    "$schema": "../../schemas/rules-schema.json",
    "imports": {
        "khasab": {
            "path": "../khasab.json",
            "referenceId": "id"
        }
    },
    "subscribers": {
        "tracks": {
            "type": "REST",
            "path": "localhost:9000/api/HlaEntities",
            "referenceId": "hlaIdentifier",
            "refreshIntervalMSec": 5000
        }
    },
    "publishers": {
        "imb": {
            "id": 5432,
            "type": "IMB",
            "host": "localhost",
            "port": 4000,
            "federation": "UST",
            "name": "csWeb-rules"
        }
    },
    "rules": [{
        "id": "Speed check",
        "description": "Check the speed of a vehicle in the CBD area.",
        "recurrence": -1,
        "isActive": true,
        "activationType": "OnEnter",
        "conditions": [{
            "method": "evaluate",
            "property": "speed > 15"
        }, {
            "method": "inside",
            "property": {
                "polyId": "khasab.harbour",
                "static": true
            }
        }],
        "actions": [{
            "method": "sendImbMessage",
            "delayInMSec": 10,
            "property": {
                "publisher": "imb",
                "topic": "Unmanned",
                "method": "zoomTo",
                "property": {
                    "header": "",
                    "optionsYesNo": false,
                    "relativeImageUri": "images/ADA CONCEPT 2-02b.png",
                    "autoSwitchInSeconds": 5,
                    "backgroundColorRgb": "255, 0, 0",
                    "message": "Auto switch in {0:0,2} seconds",
                    "attach": "$feature"
                }
            }
        }, {
            "method": "sendImbMessage",
            "delayInMSec": 1000,
            "property": {
                "publisher": "imb",
                "topic": "Unmanned",
                "method": "zoomTo",
                "property": {
                    "header": "Attention request",
                    "optionsYesNo": true,
                    "relativeImageUri": "images/ADA CONCEPT dummy.png",
                    "backgroundColorRgb": "0, 0, 255",
                    "message": "",
                    "attach": "$feature"
                }
            }
        }]
    }]
}